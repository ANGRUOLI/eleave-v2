<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Leave Type
    </ion-title>
  </ion-toolbar>
</ion-header>


<ion-content padding>
    <div class="example-container">
        <div *ngFor="let item of leaves | async">
          <div class="leave-table" style="margin-bottom:5em;">
            <p>{{item.leave_type}}</p>
             <a [routerLink]="['leave-type-edit',{lid:item.leave_id}]">Add</a>
            <table mat-table [dataSource]="item.leave_entitlement" class="mat-elevation-z8">

              <ng-container matColumnDef="LEAVE_ENTITLEMENT_CODE">
                <th mat-header-cell *matHeaderCellDef>Entitlement Name </th>
                <td mat-cell *matCellDef="let element">
                  {{element.LEAVE_ENTITLEMENT_CODE}}
                  <p><sub>{{element.DESCRIPTION}}</sub></p>

                </td>
              </ng-container>

              <ng-container matColumnDef="Edit">
                <th mat-header-cell *matHeaderCellDef> Option </th>
                <td style="width:10%;" mat-cell *matCellDef="let element">
                  <ion-row>
                    <ion-item [routerLink]="['leave-type-edit',{id:element.ENTITLEMENT_GUID}]">
                      <ion-icon name="md-clipboard"></ion-icon>
                    </ion-item>

                    <ion-item (click)='onDeleteLeave(item.leave_id,element.ENTITLEMENT_GUID)'>
                      <ion-icon color=danger name="md-trash"></ion-icon>
                    </ion-item>
                  </ion-row>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            
            </table>
          </div>
        </div>
    </div>

</ion-content>
